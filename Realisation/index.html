<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Réalisation - M3105 - CHIGNARD Julien & DEMAISON Christel</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atelier-forest-light.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="..">M3105 - CHIGNARD Julien & DEMAISON Christel</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="..">Introduction</a>
                            </li>
                            <li >
                                <a href="../Analyse/">Analyse</a>
                            </li>
                            <li class="active">
                                <a href="./">Réalisation</a>
                            </li>
                            <li >
                                <a href="../Utilisation/">Utilisation</a>
                            </li>
                            <li >
                                <a href="../Conclusion/">Conclusion</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../Analyse/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../Utilisation/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#realisation">Réalisation</a></li>
            <li><a href="#choix-techniques">Choix techniques</a></li>
            <li><a href="#presentation-de-certains-algorithmes-complexes-utilises">Présentation de certains algorithmes "complexes" utilisés</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="realisation"><center>Réalisation</center></h1>
<p><center>Les choix et méthodes employées</center></p>
<p><br></p>
<h2 id="choix-techniques">Choix techniques</h2>
<ul>
<li>Utilisation de deux tableaux pour stocker les pieces</li>
<li>Utilisation d'un vecteur pour lister les pieces sur la trajectoire du pion</li>
<li>Gestion visuelle des trajectoires</li>
<li>Code peu fragmenté</li>
</ul>
<h2 id="presentation-de-certains-algorithmes-complexes-utilises">Présentation de certains algorithmes "complexes" utilisés</h2>
<h3 id="algorithme-de-detection-de-pions-dans-une-trajectoire-diagonale">Algorithme de détection de pions dans une trajectoire diagonale</h3>
<pre><code>if(Math.abs(xClicked-xPlay) == Math.abs(yClicked-yPlay)) {
  System.out.println("Verif diag");
  int pg = yClicked&gt;yPlay?yClicked:yPlay;
  int pp = pg==yClicked?yPlay:yClicked;


  int pp2 = pp==yClicked?xClicked:xPlay;

  boolean plus = (xPlay&gt;=xClicked&amp;&amp;yPlay&gt;=yClicked) || ((xPlay&lt;xClicked&amp;&amp;yPlay&lt;yClicked));
  int ikse;

  for(int i=pp;i&lt;pg;i=i+100) {
    ikse=plus?pp2+(i-pp):pp2-(i-pp);
    for (int k=0; k&lt;8; k++)
    {
      if ((i+30==j2[k].posY &amp;&amp; ikse+30==j2[k].posX) || (i+30==j1[k].posY &amp;&amp; ikse+30==j1[k].posX &amp;&amp; k!=numpion)) {
        System.out.println("Occupado diag "+i);

        wrongPlace = true;
        occupied = true;
        break;
      }
      if(occupied)
        break;

    }
  }
}
</code></pre>
<p>On commence par regarder si les deux cases sont bien en diagonale l'une par rapport à l'autre :</p>
<pre><code>if(Math.abs(xClicked-xPlay) == Math.abs(yClicked-yPlay))
</code></pre>
<p>Puis grâce aux opérateurs ternaires on identifie l'ordre de croissance des coordonnées x et y entre les deux cases :</p>
<pre><code>int pg = yClicked&gt;yPlay?yClicked:yPlay; # plus grand y
int pp = pg==yClicked?yPlay:yClicked; # plus petit y

int pp2 = pp==yClicked?xClicked:xPlay; # plus petit x
</code></pre>
<p>On doit ensuite vérifier la direction de la diagonale, car la procédure fonctionne en augmentant par pas de 100 (largeur d'une case) la coordonnée y, pour avoir une diagonale il nous faut donc faire varier d'autant la coordonnée x. Pourça il nous faut savoir si quand y augmentant y le x croît ou décroît. En fonction de cette dernière information on saura comment faire varier x.</p>
<pre><code>boolean plus = (xPlay&gt;=xClicked&amp;&amp;yPlay&gt;=yClicked) || ((xPlay&lt;xClicked&amp;&amp;yPlay&lt;yClicked));
</code></pre>
<p>Pour faire court on veut savoir si la case cliquée est soit :</p>
<ul>
<li>En haut a droite de l'autre case ou en bas à gauche. (=&gt; plus = false)</li>
<li>En haut à gauche de l'autre case ou en bas à droite. (=&gt; plus = true)</li>
</ul>
<p>Maintenant qu'on sait de ou à ou va notre diagonale, dans quelle direction, dans quel sens et comment laparcourir, il nous reste simplement à la parcourir :</p>
<pre><code>for(int i=pp;i&lt;pg;i=i+100) { # Pour chaque y sur la diagonale
  ikse=plus?pp2+(i-pp):pp2-(i-pp); # On détermine son x associé
  for (int k=0; k&lt;8; k++) # Et on teste si d'autres pions se trouvent la
  {
</code></pre>
<p>Il nous reste plus qu'a tester concrétement si un autre pion est sur une de ces cases :</p>
<pre><code>if ((i+30==j2[k].posY &amp;&amp; ikse+30==j2[k].posX) || (i+30==j1[k].posY &amp;&amp; ikse+30==j1[k].posX &amp;&amp; k!=numpion))
</code></pre>
<p>On parcourt donc les deux tableau de pions, en omettant de se vérifier soi-même, pour des raisons évidentes.</p>
<p>Le reste n'est pas très intérréssant, on considère le mouvement comme impossible, il devient caduque et on va envoyer cette informaton au gestionnaire de l'interface pour encadrer cette case en rouge.</p>
<pre><code>wrongPlace = true;
occupied = true;
break;
}
if(occupied)
break;
</code></pre></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="https://cdn.plot.ly/plotly-latest.min.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
